<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Manochitra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Import Minecraft font --><link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
    <!-- Import three.js library --><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { 
            font-family: 'Inter', sans-serif;
            /* Ensure canvas doesn't create scrollbars */
            overflow: hidden; 
        }
        
        /* Style for the 3D canvas */
        #bg-canvas {
            position: fixed; /* Fixed position to cover the whole viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place it behind all other content */
            background-color: #f3f4f6; /* Fallback background color */
        }

        /* Class for Minecraft-style text */
        .font-minecraft {
            font-family: 'Minecraft', sans-serif;
            letter-spacing: 1px; /* Add some spacing for the blocky feel */
            /* Add a slight text shadow for depth, common in pixel fonts */
            text-shadow: 2px 2px #00000020;
        }

        /* Style for transparent inputs */
        .form-input-transparent {
            background-color: transparent !important;
            border-color: #9ca3af !important; /* gray-400 */
            color: #ffffff !important;
        }
        .form-input-transparent::placeholder {
            color: #d1d5db !important; /* gray-300 */
        }
        .form-input-transparent:focus {
            --tw-ring-color: #a5b4fc !important; /* indigo-300 */
            border-color: #a5b4fc !important; /* indigo-300 */
        }
    </style>
</head>
<!-- Removed bg-gray-100, the canvas will provide the background --><body class="flex items-center justify-center min-h-screen relative">
    
    <!-- This canvas is where the 3D animation will be rendered --><canvas id="bg-canvas"></canvas>

    <!-- The z-10 ensures this form stays on top of the canvas --><!-- Removed bg-white/30, rounded-xl, shadow-xl --><div class="w-full max-w-sm p-6 space-y-6 m-4 z-10">
        <div class="text-center">
            <!-- Added id="title-scramble" and data-value="ManoChitra" --><h1 id="title-scramble" class="text-5xl font-bold text-gray-100 font-minecraft" data-value="ManoChitra">ManoChitra</h1>
            <!-- Changed text-gray-500 to text-gray-300 --><p class="mt-2 text-gray-300">AI Powered Mind Maps for Aspirants</p>
        </div>

        <!-- Changed space-y-6 to space-y-5 for a tighter fit --><form id="signupForm" class="space-y-5">
            <!-- Changed text-gray-900 to text-white --><h2 class="text-2xl font-semibold text-white text-center">Create Account</h2>

            <div>
                <label for="fullName" class="sr-only">Full Name</label>
                <input id="fullName" name="fullName" type="text" autocomplete="name"
                       class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent form-input-transparent"
                       placeholder="Full Name">
            </div>

            <div>
                <label for="email" class="sr-only">Email address</label>
                <input id="email" name="email" type="email" autocomplete="email" required
                       class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent form-input-transparent"
                       placeholder="Email address">
            </div>

            <!-- Password Field -->
            <div class="relative">
                <label for="password" class="sr-only">Password</label>
                <input id="password" name="password" type="password" required
                       class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent form-input-transparent"
                       placeholder="Password (min. 6 characters)">
                <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-200">
                    <!-- Eye Icon SVG -->
                    <svg id="eye-icon-password" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 10.224 7.29 6 12 6s8.577 4.224 9.964 5.683c.213.226.344.504.344.817s-.131.591-.344.817C20.577 13.776 16.71 18 12 18s-8.577-4.224-9.964-5.683a1.012 1.012 0 0 1 0-.639Z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    </svg>
                    <!-- Eye Slash Icon SVG (hidden by default) -->
                    <svg id="eye-slash-icon-password" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" />
                    </svg>
                </button>
            </div>

            <!-- Confirm Password Field -->
            <div class="relative">
                <label for="confirm" class="sr-only">Confirm Password</label>
                <input id="confirm" name="confirm" type="password" required
                       class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent form-input-transparent"
                       placeholder="Confirm Password">
                <button type="button" id="toggleConfirm" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-200">
                    <!-- Eye Icon SVG -->
                    <svg id="eye-icon-confirm" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 10.224 7.29 6 12 6s8.577 4.224 9.964 5.683c.213.226.344.504.344.817s-.131.591-.344.817C20.577 13.776 16.71 18 12 18s-8.577-4.224-9.964-5.683a1.012 1.012 0 0 1 0-.639Z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    </svg>
                    <!-- Eye Slash Icon SVG (hidden by default) -->
                    <svg id="eye-slash-icon-confirm" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" />
                    </svg>
                </button>
            </div>

            <div id="messageArea" class="text-sm text-center font-medium hidden"></div>

            <div>
                <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200">
                    Create Account
                </button>
            </div>
        </form>

        <!-- Changed mt-8 to mt-6 --><!-- Changed text-gray-600 to text-gray-300 --><p class="mt-6 text-center text-sm text-gray-300">
            Already have an account?
            <!-- Changed link colors to be lighter --><a href="/login" class="font-medium text-indigo-300 hover:text-indigo-200 hover:underline">Sign In</a>
        </p>
    </div>

    <!-- Script for the 3D particle animation --><script type="module">
        // Ensure THREE is loaded
        if (typeof THREE === 'undefined') {
            console.error('THREE.js has not loaded');
        } else {
            let scene, camera, renderer, particles;

            function init() {
                // Scene
                scene = new THREE.Scene();
                
                // Camera
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 300; // Move camera back to see particles

                // Renderer
                const canvas = document.getElementById('bg-canvas');
                renderer = new THREE.WebGLRenderer({ 
                    canvas: canvas,
                    alpha: true // Make canvas transparent
                });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                renderer.setClearColor(0x11111F, 1); // Set a dark blue/purple background color

                // Particles
                const particleCount = 7000;
                const vertices = [];
                for (let i = 0; i < particleCount; i++) {
                    const x = (Math.random() - 0.5) * 2000;
                    const y = (Math.random() - 0.5) * 2000;
                    const z = (Math.random() - 0.5) * 2000;
                    vertices.push(x, y, z);
                }

                const geometry = new THREE.BufferGeometry();
                geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));

                const material = new THREE.PointsMaterial({
                    color: 0x8888cc, // Light indigo/purple color for particles
                    size: 1.5,
                    sizeAttenuation: true,
                    transparent: true,
                    opacity: 0.8
                });

                particles = new THREE.Points(geometry, material);
                scene.add(particles);

                // Handle window resize
                window.addEventListener('resize', onWindowResize, false);
                
                // Start animation
                animate();
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            }

            // Mouse move interaction
            let mouseX = 0;
            let mouseY = 0;
            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - window.innerWidth / 2) * 0.0005;
                mouseY = (event.clientY - window.innerHeight / 2) * 0.0005;
            });

            function animate() {
                requestAnimationFrame(animate);

                const time = Date.now() * 0.00005;
                
                // Gently rotate the particle field
                if (particles) {
                    particles.rotation.x = time * 0.25 + mouseY;
                    particles.rotation.y = time * 0.5 + mouseX;
                }

                renderer.render(scene, camera);
            }

            // --- NEW TEXT SCRAMBLE ANIMATION ---
            function setupTitleScramble() {
                const targetElement = document.getElementById('title-scramble');
                if (!targetElement) return;

                const originalText = targetElement.dataset.value;
                // Using uppercase alphabet for the "reverse" / scramble effect
                const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; 
                let interval = null;
                let isAnimating = false;

                const animateScramble = () => {
                    if (isAnimating) return; // Don't restart if already running
                    isAnimating = true;

                    let iteration = 0;
                    if (interval) clearInterval(interval);

                    interval = setInterval(() => {
                        targetElement.innerText = originalText
                            .split("")
                            .map((letter, index) => {
                                // If the letter is "settled", return the original
                                if (index < iteration) {
                                    return originalText[index];
                                }
                                
                                // Otherwise, return a random letter from our set
                                return letters[Math.floor(Math.random() * 26)];
                            })
                            .join("");

                        // When all letters are settled
                        if (iteration >= originalText.length) {
                            clearInterval(interval);
                            targetElement.innerText = originalText; // Ensure it ends perfectly
                            isAnimating = false;
                        }

                        // Controls the speed of the reveal (lower number = faster)
                        iteration += 1 / 3; 
                    }, 30); // Controls the "frame rate" of the scramble
                }

                // Run animation on mouseover
                targetElement.addEventListener('mouseover', animateScramble);
                
                // And run it once on page load
                animateScramble(); 
            }
            // --- END OF NEW TEXT ANIMATION ---

            // --- NEW PASSWORD TOGGLE LOGIC ---
            function setupPasswordToggles() {
                const togglePasswordBtn = document.getElementById('togglePassword');
                const passwordInput = document.getElementById('password');
                const eyeIconPass = document.getElementById('eye-icon-password');
                const eyeSlashIconPass = document.getElementById('eye-slash-icon-password');

                const toggleConfirmBtn = document.getElementById('toggleConfirm');
                const confirmInput = document.getElementById('confirm');
                const eyeIconConfirm = document.getElementById('eye-icon-confirm');
                const eyeSlashIconConfirm = document.getElementById('eye-slash-icon-confirm');

                if (togglePasswordBtn) {
                    togglePasswordBtn.addEventListener('click', () => {
                        const isPassword = passwordInput.type === 'password';
                        passwordInput.type = isPassword ? 'text' : 'password';
                        eyeIconPass.classList.toggle('hidden', isPassword);
                        eyeSlashIconPass.classList.toggle('hidden', !isPassword);
                    });
                }

                if (toggleConfirmBtn) {
                    toggleConfirmBtn.addEventListener('click', () => {
                        const isPassword = confirmInput.type === 'password';
                        confirmInput.type = isPassword ? 'text' : 'password';
                        eyeIconConfirm.classList.toggle('hidden', isPassword);
                        eyeSlashIconConfirm.classList.toggle('hidden', !isPassword);
                    });
                }
            }
            // --- END OF PASSWORD TOGGLE LOGIC ---


            // Wait for the DOM to be fully loaded before initializing
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    init(); // Initialize 3D background
                    setupTitleScramble(); // Initialize text animation
                    setupPasswordToggles(); // Initialize password toggles
                });
            } else {
                init();
                setupTitleScramble();
                setupPasswordToggles(); // Initialize password toggles
            }
        }
    </script>
    
    <!-- 
      You would link your signup_auth.js here if you had it
      <script type="module" src="./signup_auth.js"></script> 
    --></body>
</html>




